---
import { getWork } from "../../scripts/data";
import Layout from "../../layouts/Layout.astro";
import Window from "../../components/Window.svelte";
import Work from "../../components/Work.svelte";
import OpenSource from "../../content/pages/open-source.md";

const work = await getWork();
---

<Layout title="Work">
	<div class="layout__grid work">
		<h1 class="page-title">Work</h1>
		<div class="layout__cell work__clients">
			<Window
				title="Client work"
				order={0}
				client:load
				style="margin-inline-start: 0;">
				<p>Just a few of favorite my client projects over the years!</p>
				<Work work={work} />
			</Window>
		</div>
		<div class="layout__cell work__open-source">
			<Window title="Open source" order={1} client:load>
				<div class="rte container">
					<OpenSource />
				</div>
			</Window>
		</div>
	</div>
</Layout>

<style>
	@media (min-width: 62em) {
		.work {
			grid-template-rows: auto 1fr;
			grid-template-columns: 1fr minmax(60ch, 1fr);
			gap: 1rem;
		}

		.work__clients {
			--max-width: 100%;
			grid-column: 1;
		}

		.work__open-source {
			grid-row: 1 / 3;
			grid-column: 2;
		}
	}
</style>
