---
title: "Building my new website: A modern approach to font fallbacks with font-size-adjust, fun with CSS Grid"
pubDate: "2024-03-06"
description: "Finally making headway"
tags:
  - animation
  - css
  - portfolio
draft: true
---

import Image from "../../components/Image.astro";

This is a post in a series about building my new website, check out [the previous post in this series.](/blog/building-my-new-website-part-5/)

## Artwork

I've always been torn about having an artwork section on my site. It's not at all related to what I do professionally, and I always wondered if I would be judged for having a section dedicated to it. At some point, I stumbled [Josh Crain's website](https://joshcrain.io/art/), and I really enjoyed the artwork section. His work is full of light, and I really resonated with his artistic journey. I'm so glad I found his site, because it helped me decide that I didn't particularly care any more if anyone thought negatively about it, and I finally implemented an artwork page for my site. This isn't a particularly popular page on the site, but those who like it seem to really love it, so I'll chalk this up as a success.

Selecting the pieces was the most difficult part. I knew I wouldn't be able to feature too many works on this page with the layout that I had, so I had to be more choosey than I'd like. In the end, I chose a mix of pieces from the mediums I've been enjoying in the past few years (digital, but only the [HEAVYPAINT](https://www.heavypaint.com/) program) and gouache, with a mix of plein air pieces in there.

Development was straightforward as this was one of the very first sections that I designed when coming up with the site. As soon as I saw my first View Transitions demo, I knew I wanted to utilize it to power this section. When a window in this section is maximized, the window itself is crossfaded and the caption fades in, but a separate view transition on the artwork makes it scale up smoothly. I really can't believe what you can get with CSS (and a sprinkle of JS to manage state and fallbacks!)

## Fonts

It's at this point I start doing some performance testing. One of the key issues was that I had a huge amount of Cumulative Layout Shift as the fonts came in. The font I had chosen, W95FA is pretty narrow compared to other fonts, and I wanted to see if I could minimize the amount of jank as the fonts came in. The layout of my site meant that containers resizing would feel especially choppy. I also knew that I would want to add a toggle between pixel and anti-aliased fonts, as it was an accessibility setting that I've seen in video games. Switching between the two would need to feel pretty seamless, with as little layout shift as I could manage.

At some point, I had stumbled upon the website [Modern Font Stacks](https://modernfontstacks.com/), which provides a list of font fallbacks by style to cover every OS. I really liked the Humanist font stack, but the question remained on how to make sure they aligned with the pixel style font.

I came up with a method I absolutely cannot recommend following due to it's complexity, but I will share it here in the hopes that someone can either share a better way how to do this, or perhaps build one themselves. At the time, [this tool by Brian Louis Ramirez](https://screenspan.net/fallback) was the only font fallback tool I could find that supported the new `size-adjust` CSS property, which allows you to tweak the the size of your fallback fonts before your web fonts loaded in, as well as showing you a visual overlay of your web font and the fallback font. The issue is, this calculator only supports a very limited range of fonts. With some mild piracy, I downloaded every single font in the fallback stack to my local machine, and used the developer tools on Brian's tool to add a custom `<option>` for each fallback font name, which did successfully get the fallback fonts I wanted on the site. I could then use the tool as intended to match up the fonts.

I can't really say if this effort was worth it. Of all the wonderful things people have said about my new site, no one has said 'wow, your font choices really minimize cumulative layout shift, leading to a seamless loading experience!' However, I do think it was worthwhile to experiment with the new font adjusting properties, which have just reached Baseline 2024.

## Work

The work section was basically the last major section content I needed to complete. I hadn't updated the case studies on my site in several years now, so completing this section required writing all new content and figuring out how to style it.

This posed a greater challenge than I expected, primarily because of the way
